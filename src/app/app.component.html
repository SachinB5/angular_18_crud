<section class="mt-5">
  <div class="container">
    <div class="row">
      <!-- list -->
      <div class="col-12 col-lg-8 mb-4">
        <div class="card">
          <div class="card-header bg-secondary">
            <h2>Employee List</h2>
          </div>
          <div class="card-body">
            <table class="table table-bordered table-hover">
              <thead class="table-danger">
                <tr>
                  <th>Sr Nu</th>
                  <th>Name</th>
                  <th>Contact No</th>
                  <th>Emailid</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                @for (emp of employeList; track $index) {
                  <tr>
                    <td>{{ $index + 1 }}</td>
                    <td>{{ emp.name }}</td>
                    <td>{{ emp.contactNo }}</td>
                    <td>{{ emp.email }}</td>
                    <td>
                      <button class="btn btn-info" (click)="editEmpdata(emp)">
                        Edit
                      </button>
                      <button
                        class="btn btn-danger ms-2"
                        (click)="deleteEmp(emp.empid)"
                      >
                        Delete
                      </button>
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <!-- form -->
      <div class="col-12 col-lg-4">
        <div class="card">
          <div class="card-header bg-secondary">
            <h2>New Employee</h2>
          </div>
          <div class="card-body">
            <form [formGroup]="epmloyeeForm" (ngSubmit)="onSubmit()">
              <div class="row">
                <div class="col-md-12">
                  <label for="name">Name</label>
                  <input
                    type="text"
                    name="name"
                    id="name"
                    class="form-control"
                    formControlName="name"
                  />
                </div>
              </div>
              @if (
                epmloyeeForm.controls.name.touched &&
                epmloyeeForm.controls.name.invalid
              ) {
                <p class="text-danger small">please enter a name</p>
              }
              <div class="row">
                <div class="col-md-6">
                  <label for="email">Email</label>
                  <input
                    type="email"
                    name="email"
                    id="email"
                    class="form-control"
                    formControlName="email"
                  />
                </div>
                 @if (
                  epmloyeeForm.controls.email.touched &&
                  epmloyeeForm.controls.email.invalid
                ) {
                  <p class="text-danger small">please enter a email</p>
                }
                <div class="col-md-6">
                  <label for="contactNo">Contact No</label>
                  <input
                    type="number"
                    name="contactNo"
                    id="contactNo"
                    class="form-control"
                    formControlName="contactNo"
                  />
                </div>
                 @if (
                  epmloyeeForm.controls.contactNo.touched &&
                  epmloyeeForm.controls.contactNo.invalid
                ) {
                  <p class="text-danger small">please enter a contact number</p>
                }
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label for="city">City</label>
                  <input
                    type="text"
                    name="city"
                    id="city"
                    class="form-control"
                    formControlName="city"
                  />
                </div>
                <div class="col-md-6">
                  <label for="state">State</label>
                  <input
                    type="text"
                    name="state"
                    id="state"
                    class="form-control"
                    formControlName="state"
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <label for="pincode">Pincode</label>
                  <input
                    type="number"
                    name="pincode"
                    class="form-control"
                    formControlName="pincode"
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <label for="address">Address</label>
                  <textarea
                    name="address"
                    id="address"
                    class="form-control"
                    formControlName="address"
                  ></textarea>
                </div>
              </div>
              <div class="col-12 mt-3">
                <div class="d-flex justify-content-end gap-2">
                  <button class="btn btn-secondary" type="reset">Reset</button>
                  @if (isEdit) {
                    <button
                      class="btn btn-warning"
                      type="button"
                      (click)="onUpdate()"
                    >
                      Update Employee
                    </button>
                  } @else {
                    <button class="btn btn-success" type="submit">
                      Save Employee
                    </button>
                  }
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
